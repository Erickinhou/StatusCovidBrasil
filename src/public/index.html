<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <!-- link css -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="slide.css">
    <link rel="stylesheet" href="responsive.css">

    <title>Covid-19 Brasil</title>
</head>
<body>
    <main>
        <header>
            <nav class="menu">
                <div class="menu-left">
                    <span>Dev<strong>Loop</strong></span>  
                </div>
                <ul class="menu-center">
                    <li><a href="#">HOME</a></li>
                    <li><a href="https://shorturl.at/cfrwz">CORONAVIRUS</a></li>
                    <li><a href="https://shorturl.at/jGM12">SOBRE</a></li>
                </ul>
                <div class="menu-right">
                    <a href="#" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a>
                    <a href="#" target="_blank"><i class="fa fa-github fa-2x"></i></a>
                </div>
                <div class="dropdown">
                    <button class="dropbtn" onclick="show_bar(this)">
                        <i class="fa fa-bars fa-2x"></i>
                    </button>
                    <div class="dropdown-content" mob-menu>
                        <a href="#">Home</a>
                        <a href="https://shorturl.at/cfrwz">Covid-19</a>
                        <a href="https://shorturl.at/jGM12">Sobre</a>
                    </div>
                </div>
            </nav>
        </header>



        <div class="slidershow middle">

            <div class="slides">
              <input type="radio" name="r" id="r1" checked>
              <input type="radio" name="r" id="r2">
              <input type="radio" name="r" id="r3">
              <input type="radio" name="r" id="r4">
              <input type="radio" name="r" id="r5">
              
              <div class="slide s1">
                <div class="codvid-19">
                    <div class="div-title">
                        <h1>Corona Virus no Brasil</h1>
                    </div>
                    
                    <div class="cases">
                        <div class="data data-cases-br"></div>
                        <h2>CASOS CONFIRMADOS</h2>
                    </div>
        
                    <div class="deaths">
                        <div class="data data-deaths-br"></div>
                        <h2>MORTES</h2>
                    </div>
                </div>
              </div>


              <div class="slide">
                <div class="codvid-19">
                    <div class="div-title">
                        <h1>Corona Virus nos EUA</h1>
                    </div>
                    
                    <div class="cases">
                        <div class="data data-cases-us"></div>
                        <h2>CASOS CONFIRMADOS</h2>
                    </div>
        
                    <div class="deaths">
                        <div class="data data-deaths-us"></div>
                        <h2>MORTES</h2>
                    </div>
                </div>
              </div>


              <div class="slide">
                <div class="codvid-19">
                    <div class="div-title">
                        <h1>Corona Virus na Alemanha</h1>
                    </div>
                    
                    <div class="cases">
                        <div class="data data-cases-de"></div>
                        <h2>CASOS CONFIRMADOS</h2>
                    </div>
        
                    <div class="deaths">
                        <div class="data data-deaths-de"></div>
                        <h2>MORTES</h2>
                    </div>
                </div>
              </div>


              <div class="slide">
                <div class="codvid-19">
                    <div class="div-title">
                        <h1>Corona Virus na China</h1>
                    </div>
                    
                    <div class="cases">
                        <div class="data data-cases-cn"></div>
                        <h2>CASOS CONFIRMADOS</h2>
                    </div>
        
                    <div class="deaths">
                        <div class="data data-deaths-cn"></div>
                        <h2>MORTES</h2>
                    </div>
                </div>
              </div>


              <div class="slide">
                <div class="codvid-19">
                    <div class="div-title">
                        <h1>Corona Virus na It√°lia</h1>
                    </div>
                    
                    <div class="cases">
                        <div class="data data-cases-it"></div>
                        <h2>CASOS CONFIRMADOS</h2>
                    </div>
        
                    <div class="deaths">
                        <div class="data data-deaths-it"></div>
                        <h2>MORTES</h2>
                    </div>
                </div>
              </div>
            </div>
      
            <div class="navigation">
              <label for="r1" class="bar"></label>
              <label for="r2" class="bar"></label>
              <label for="r3" class="bar"></label>
              <label for="r4" class="bar"></label>
              <label for="r5" class="bar"></label>
            </div>
        </div>
        <div class="data"></div>
    </main>
    <footer>
        <div class="share">
            <span>compartilhe</span>
            <a href="#"><i class="fa fa-facebook fa-2x"></i></a>
            <a href="#"><i class="fa fa-twitter fa-2x"></i></a>
            <a href="#"><i class="fa fa-instagram fa-2x"></i></a>
        </div>
    </footer>

    
    <script type="text/javascript">
        let data
        let angle = 0  
        let open = -1 
        
        /* usefull functions */

        function show_bar(e){
            let mobile_menu = document.querySelector('[mob-menu]')
            e.style.transform = `rotate(${angle-=90}deg)`
            angle = (angle == 0)? 90 : angle
            
            if(open == -1){
                e.style.color = '#FF6961'

                mobile_menu.style.display = 'flex'
            }
            else{
                mobile_menu.style.display = 'none'
                e.style.color = '#4a4a4a'
            }
            open = open * -1
        }

        function reverseString(String) {
            let splitArray = String.split('')
            let reverseArray = splitArray.reverse()
            let joinString = reverseArray.join('')
            return joinString
        }


        function formatNumber(str) {
            str = reverseString(str)
            let x = ''
            for(let i = 0; i<str.length; i++){
                x= x + str[i]
                if(((i+1)%3== 0)&&(i!== str.length-1))  {
                    x = x+ '.'
                }
            }
            x = reverseString(x)
            return x
        }

        async function getData () {
            data_br = await axios.get('https://coronavirus-19-api.herokuapp.com/countries/Brazil')
            data_us = await axios.get('https://coronavirus-19-api.herokuapp.com/countries/USA')
            data_de = await axios.get('https://coronavirus-19-api.herokuapp.com/countries/Germany')
            data_cn = await axios.get('https://coronavirus-19-api.herokuapp.com/countries/China')
            data_it = await axios.get('https://coronavirus-19-api.herokuapp.com/countries/Italy')

            
            $('.data-cases-br').append(`<span>${formatNumber(data_br.data.cases.toString())}</span>`)
            $('.data-cases-us').append(`<span>${formatNumber(data_us.data.cases.toString())}</span>`)
            $('.data-cases-de').append(`<span>${formatNumber(data_de.data.cases.toString())}</span>`)
            $('.data-cases-cn').append(`<span>${formatNumber(data_cn.data.cases.toString())}</span>`)
            $('.data-cases-it').append(`<span>${formatNumber(data_it.data.cases.toString())}</span>`)

            $('.data-deaths-br').append(`<span>${formatNumber(data_br.data.deaths.toString())}</span>`)
            $('.data-deaths-us').append(`<span>${formatNumber(data_us.data.deaths.toString())}</span>`)
            $('.data-deaths-de').append(`<span>${formatNumber(data_de.data.deaths.toString())}</span>`)
            $('.data-deaths-cn').append(`<span>${formatNumber(data_cn.data.deaths.toString())}</span>`)
            $('.data-deaths-it').append(`<span>${formatNumber(data_it.data.deaths.toString())}</span>`)
        }
        getData()

    </script>
</body>
</html>